<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" type="image/x-icon" href="../img/favicon.svg" />
    <title>Chess</title>
    <link href="./style.css" rel="stylesheet" />
  </head>

  <body>
    <!-- ボード -->
    <div id="chess-board" class="board">
      <div id="chess-0" class="cell cell-white"></div>
      <div id="chess-1" class="cell cell-black"></div>
      <div id="chess-2" class="cell cell-white"></div>
      <div id="chess-3" class="cell cell-black"></div>
      <div id="chess-4" class="cell cell-white"></div>
      <div id="chess-5" class="cell cell-black"></div>
      <div id="chess-6" class="cell cell-white"></div>
      <div id="chess-7" class="cell cell-black"></div>

      <div id="chess-8" class="cell cell-black"></div>
      <div id="chess-9" class="cell cell-white"></div>
      <div id="chess-10" class="cell cell-black"></div>
      <div id="chess-11" class="cell cell-white"></div>
      <div id="chess-12" class="cell cell-black"></div>
      <div id="chess-13" class="cell cell-white"></div>
      <div id="chess-14" class="cell cell-black"></div>
      <div id="chess-15" class="cell cell-white"></div>

      <div id="chess-16" class="cell cell-white"></div>
      <div id="chess-17" class="cell cell-black"></div>
      <div id="chess-18" class="cell cell-white"></div>
      <div id="chess-19" class="cell cell-black"></div>
      <div id="chess-20" class="cell cell-white"></div>
      <div id="chess-21" class="cell cell-black"></div>
      <div id="chess-22" class="cell cell-white"></div>
      <div id="chess-23" class="cell cell-black"></div>

      <div id="chess-24" class="cell cell-black"></div>
      <div id="chess-25" class="cell cell-white"></div>
      <div id="chess-26" class="cell cell-black"></div>
      <div id="chess-27" class="cell cell-white"></div>
      <div id="chess-28" class="cell cell-black"></div>
      <div id="chess-29" class="cell cell-white"></div>
      <div id="chess-30" class="cell cell-black"></div>
      <div id="chess-31" class="cell cell-white"></div>

      <div id="chess-32" class="cell cell-white"></div>
      <div id="chess-33" class="cell cell-black"></div>
      <div id="chess-34" class="cell cell-white"></div>
      <div id="chess-35" class="cell cell-black"></div>
      <div id="chess-36" class="cell cell-white"></div>
      <div id="chess-37" class="cell cell-black"></div>
      <div id="chess-38" class="cell cell-white"></div>
      <div id="chess-39" class="cell cell-black"></div>

      <div id="chess-40" class="cell cell-black"></div>
      <div id="chess-41" class="cell cell-white"></div>
      <div id="chess-42" class="cell cell-black"></div>
      <div id="chess-43" class="cell cell-white"></div>
      <div id="chess-44" class="cell cell-black"></div>
      <div id="chess-45" class="cell cell-white"></div>
      <div id="chess-46" class="cell cell-black"></div>
      <div id="chess-47" class="cell cell-white"></div>

      <div id="chess-48" class="cell cell-white"></div>
      <div id="chess-49" class="cell cell-black"></div>
      <div id="chess-50" class="cell cell-white"></div>
      <div id="chess-51" class="cell cell-black"></div>
      <div id="chess-52" class="cell cell-white"></div>
      <div id="chess-53" class="cell cell-black"></div>
      <div id="chess-54" class="cell cell-white"></div>
      <div id="chess-55" class="cell cell-black"></div>

      <div id="chess-56" class="cell cell-black"></div>
      <div id="chess-57" class="cell cell-white"></div>
      <div id="chess-58" class="cell cell-black"></div>
      <div id="chess-59" class="cell cell-white"></div>
      <div id="chess-60" class="cell cell-black"></div>
      <div id="chess-61" class="cell cell-white"></div>
      <div id="chess-62" class="cell cell-black"></div>
      <div id="chess-63" class="cell cell-white"></div>
    </div>

    <!-- その他表示 -->
    <div>
      status:
      <output id="chess-stat"></output>
      <button id="chess-reset">reset</button>
      <button id="chess-open-settings">open settings</button>
    </div>

    <!-- 設定 -->
    <dialog id="chess-settings">
      <h3>Settings</h3>

      <div>
        Black player
        <select id="chess-player-black">
          <option value="human" selected>Human</option>
          <option value="ai">AI</option>
        </select>
      </div>
      <div>
        White player
        <select id="chess-player-white">
          <option value="human">Human</option>
          <option value="ai" selected>AI</option>
        </select>
      </div>

      <button id="chess-close-settings">Close</button>
    </dialog>

    <!-- チェス駒テンプレート -->
    <!-- https://commons.wikimedia.org/wiki/Category:SVG_chess_pieces -->

    <!-- ポーン -->
    <template id="chess-temp-pawn">
      <svg viewBox="0 0 45 45" xmlns="http://www.w3.org/2000/svg" class="piece">
        <path
          d="M34,39.5C34,31.58 29.59,27.09 26.59,26.03A6.5,6.5 0,0 0 25.72,15.38A4,4 0,1 0 19.28,15.38A6.5,6.5 0,0 0 18.41,26.03C15.41,27.09 11,31.58 11,39.5Z"
        />

        <!-- Title: Chess plt45.svg -->
        <!-- Author: Cburnett -->
        <!-- Source: https://commons.wikimedia.org/wiki/File:Chess_plt45.svg -->
        <!-- License: CC BY-SA 3.0 -->
        <!-- note: modification -->
      </svg>
    </template>

    <!-- ナイト -->
    <template id="chess-temp-knight">
      <svg viewBox="0 0 45 45" xmlns="http://www.w3.org/2000/svg" class="piece">
        <path d="M22,10C32.5,11 38.5,18 38,39L15,39C15,30 25,32.5 23,18" />
        <path
          d="M24,18C24.38,20.91 18.45,25.37 16,27C13,29 13.18,31.34 11,31C9.958,30.06 12.41,27.96 11,28C10,28 11.19,29.23 10,30C9,30 5.997,31 6,26C6,24 12,14 12,14C12,14 13.89,12.1 14,10.5C13.27,9.506 13.5,8.5 13.5,7.5C14.5,6.5 16.5,10 16.5,10L18.5,10C18.5,10 19.28,8.008 21,7C22,7 22,10 22,10"
        />
        <circle cx="9" cy="25.5" r="0.5" />
        <ellipse cx="14.5" cy="15.5" rx="0.5" ry="1.5" transform="rotate(25 14.5 15.5)" />

        <!-- Title: Chess nlt45.svg -->
        <!-- Author: Cburnett -->
        <!-- Source: https://commons.wikimedia.org/wiki/File:Chess_nlt45.svg -->
        <!-- License: CC BY-SA 3.0 -->
        <!-- note: modification -->
      </svg>
    </template>

    <!-- ビショップ -->
    <template id="chess-temp-bishop">
      <svg viewBox="0 0 45 45" xmlns="http://www.w3.org/2000/svg" class="piece">
        <path
          d="M9,36C12.39,35.03 19.11,36.43 22.5,34C25.89,36.43 32.61,35.03 36,36C36,36 37.65,36.54 39,38C38.32,38.97 37.35,38.99 36,38.5C32.61,37.53 25.89,38.96 22.5,37.5C19.11,38.96 12.39,37.53 9,38.5C7.65,38.99 6.68,38.97 6,38C7.35,36.54 9,36 9,36z"
        />
        <path
          d="M15,32C17.5,34.5 27.5,34.5 30,32C30.5,30.5 30,30 30,30C30,27.5 27.5,26 27.5,26C33,24.5 33.5,14.5 22.5,10.5C11.5,14.5 12,24.5 17.5,26C17.5,26 15,27.5 15,30C15,30 14.5,30.5 15,32z"
        />
        <circle cx="22.5" cy="8" r="2.5" />
        <path d="M17.5,26h10M15,30h15M22.5,15.5v5M20,18h5" />

        <!-- Title: Chess blt45.svg -->
        <!-- Author: Cburnett -->
        <!-- Source: https://commons.wikimedia.org/wiki/File:Chess_blt45.svg -->
        <!-- License: CC BY-SA 3.0 -->
        <!-- note: modification -->
      </svg>
    </template>

    <!-- ルーク -->
    <template id="chess-temp-rook">
      <svg viewBox="0 0 45 45" xmlns="http://www.w3.org/2000/svg" class="piece">
        <path d="M9,39L36,39L36,36L9,36L9,39z" />
        <path d="M12,36L12,32L33,32L33,36L12,36z" />
        <path d="M11,14L11,9L15,9L15,11L20,11L20,9L25,9L25,11L30,11L30,9L34,9L34,14" />
        <path d="M34,14L31,17L14,17L11,14" />
        <path d="M31,17L31,29.5L14,29.5L14,17" />
        <path d="M31,29.5L32.5,32L12.5,32L14,29.5" />
        <path d="M11,14L34,14" />

        <!-- Title: Chess rlt45.svg -->
        <!-- Author: Cburnett -->
        <!-- Source: https://commons.wikimedia.org/wiki/File:Chess_rlt45.svg -->
        <!-- License: CC BY-SA 3.0 -->
        <!-- note: modification -->
      </svg>
    </template>

    <!-- クイーン -->
    <template id="chess-temp-queen">
      <svg viewBox="0 0 45 45" xmlns="http://www.w3.org/2000/svg" class="piece">
        <path
          d="M9,26C17.5,24.5 30,24.5 36,26L38.5,13.5L31,25L30.7,10.9L25.5,24.5L22.5,10L19.5,24.5L14.3,10.9L14,25L6.5,13.5Z"
        />
        <path
          d="M9,26C9,28 10.5,28 11.5,30C12.5,31.5 12.5,31 12,33.5C10.5,34.5 11,36 11,36C9.5,37.5 11,38.5 11,38.5C17.5,39.5 27.5,39.5 34,38.5C34,38.5 35.5,37.5 34,36C34,36 34.5,34.5 33,33.5C32.5,31 32.5,31.5 33.5,30C34.5,28 36,28 36,26C27.5,24.5 17.5,24.5 9,26Z"
        />
        <path d="M11.5,30C15,29 30,29 33.5,30" />
        <path d="M12,33.5C18,32.5 27,32.5 33,33.5" />

        <circle cx="6" cy="12" r="2" />
        <circle cx="14" cy="9" r="2" />
        <circle cx="22.5" cy="8" r="2" />
        <circle cx="31" cy="9" r="2" />
        <circle cx="39" cy="12" r="2" />

        <!-- Title: Chess qlt45.svg -->
        <!-- Author: Cburnett -->
        <!-- Source: https://commons.wikimedia.org/wiki/File:Chess_qlt45.svg -->
        <!-- License: CC BY-SA 3.0 -->
        <!-- note: modification -->
      </svg>
    </template>

    <!-- キング -->
    <template id="chess-temp-king">
      <svg viewBox="0 0 45 45" xmlns="http://www.w3.org/2000/svg" class="piece">
        <path d="M22.5 11.63V6M20 8h5" />
        <path d="M22.5 25s4.5-7.5 3-10.5c0 0-1-2.5-3-2.5s-3 2.5-3 2.5c-1.5 3 3 10.5 3 10.5" />
        <path
          d="M12.5 37c5.5 3.5 14.5 3.5 20 0v-7s9-4.5 6-10.5c-4-6.5-13.5-3.5-16 4V27v-3.5c-2.5-7.5-12-10.5-16-4-3 6 6 10.5 6 10.5v7"
        />
        <path d="M12.5 30c5.5-3 14.5-3 20 0m-20 3.5c5.5-3 14.5-3 20 0m-20 3.5c5.5-3 14.5-3 20 0" />

        <!-- Title: Chess klt45.svg -->
        <!-- Author: Cburnett -->
        <!-- Source: https://commons.wikimedia.org/wiki/File:Chess_klt45.svg -->
        <!-- License: CC BY-SA 3.0 -->
        <!-- note: modification -->
      </svg>
    </template>

    <!-- プログラム -->
    <script type="module">
      import { main } from "./main.ts";

      document.addEventListener("DOMContentLoaded", main);
    </script>

    <script type="module" src="./main.ts"></script>
  </body>
</html>
